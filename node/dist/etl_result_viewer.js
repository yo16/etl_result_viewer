!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var r=e();for(var s in r)("object"==typeof exports?exports:t)[s]=r[s]}}(self,(()=>(()=>{var t={821:(t,e,r)=>{"use strict";r.d(e,{Z:()=>o});var s=r(81),a=r.n(s),n=r(645),i=r.n(n)()(a());i.push([t.id,"/*\r\ncss\r\n*/\r\n\r\n#etl_result_datearea_rect {\r\n    fill: #EEE;\r\n    opacity: 70%;\r\n}\r\n#etl_result_job_name_rect {\r\n    fill: #EEE;\r\n    opacity: 70%;\r\n}\r\n#etl_result_result_rect {\r\n    fill: #CCC;\r\n}\r\n\r\n.datetime_bar {\r\n    stroke-width: 1;\r\n    stroke: #CCC;\r\n    shape-rendering: crispEdges;\r\n}\r\n.datetime_text {\r\n    font-size: 10pt;\r\n    fill: #999;\r\n}\r\n",""]);const o=i},645:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var r="",s=void 0!==e[5];return e[4]&&(r+="@supports (".concat(e[4],") {")),e[2]&&(r+="@media ".concat(e[2]," {")),s&&(r+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),r+=t(e),s&&(r+="}"),e[2]&&(r+="}"),e[4]&&(r+="}"),r})).join("")},e.i=function(t,r,s,a,n){"string"==typeof t&&(t=[[null,t,void 0]]);var i={};if(s)for(var o=0;o<this.length;o++){var d=this[o][0];null!=d&&(i[d]=!0)}for(var l=0;l<t.length;l++){var _=[].concat(t[l]);s&&i[_[0]]||(void 0!==n&&(void 0===_[5]||(_[1]="@layer".concat(_[5].length>0?" ".concat(_[5]):""," {").concat(_[1],"}")),_[5]=n),r&&(_[2]?(_[1]="@media ".concat(_[2]," {").concat(_[1],"}"),_[2]=r):_[2]=r),a&&(_[4]?(_[1]="@supports (".concat(_[4],") {").concat(_[1],"}"),_[4]=a):_[4]="".concat(a)),e.push(_))}},e}},81:t=>{"use strict";t.exports=function(t){return t[1]}},732:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>T});var s=r(379),a=r.n(s),n=r(795),i=r.n(n),o=r(569),d=r.n(o),l=r(565),_=r.n(l),u=r(216),c=r.n(u),p=r(589),h=r.n(p),f=r(821),E={};E.styleTagTransform=h(),E.setAttributes=_(),E.insert=d().bind(null,"head"),E.domAPI=i(),E.insertStyleElement=c(),a()(f.Z,E);const T=f.Z&&f.Z.locals?f.Z.locals:void 0},379:t=>{"use strict";var e=[];function r(t){for(var r=-1,s=0;s<e.length;s++)if(e[s].identifier===t){r=s;break}return r}function s(t,s){for(var n={},i=[],o=0;o<t.length;o++){var d=t[o],l=s.base?d[0]+s.base:d[0],_=n[l]||0,u="".concat(l," ").concat(_);n[l]=_+1;var c=r(u),p={css:d[1],media:d[2],sourceMap:d[3],supports:d[4],layer:d[5]};if(-1!==c)e[c].references++,e[c].updater(p);else{var h=a(p,s);s.byIndex=o,e.splice(o,0,{identifier:u,updater:h,references:1})}i.push(u)}return i}function a(t,e){var r=e.domAPI(e);return r.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;r.update(t=e)}else r.remove()}}t.exports=function(t,a){var n=s(t=t||[],a=a||{});return function(t){t=t||[];for(var i=0;i<n.length;i++){var o=r(n[i]);e[o].references--}for(var d=s(t,a),l=0;l<n.length;l++){var _=r(n[l]);0===e[_].references&&(e[_].updater(),e.splice(_,1))}n=d}}},569:t=>{"use strict";var e={};t.exports=function(t,r){var s=function(t){if(void 0===e[t]){var r=document.querySelector(t);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}e[t]=r}return e[t]}(t);if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(r)}},216:t=>{"use strict";t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},565:(t,e,r)=>{"use strict";t.exports=function(t){var e=r.nc;e&&t.setAttribute("nonce",e)}},795:t=>{"use strict";t.exports=function(t){var e=t.insertStyleElement(t);return{update:function(r){!function(t,e,r){var s="";r.supports&&(s+="@supports (".concat(r.supports,") {")),r.media&&(s+="@media ".concat(r.media," {"));var a=void 0!==r.layer;a&&(s+="@layer".concat(r.layer.length>0?" ".concat(r.layer):""," {")),s+=r.css,a&&(s+="}"),r.media&&(s+="}"),r.supports&&(s+="}");var n=r.sourceMap;n&&"undefined"!=typeof btoa&&(s+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(n))))," */")),e.styleTagTransform(s,t,e.options)}(e,t,r)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},589:t=>{"use strict";t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},551:t=>{const e=[700,400],r=[10,10,10,10],s=e[0]-r[1]-r[3],a=e[1]-r[0]-r[2],n=200,i=s-n,o=a-50;t.exports={pos:{svg:{WIDTH:e[0],HEIGHT:e[1]},whole_area:{X:r[3],Y:r[0],WIDTH:s,HEIGHT:a},datetime_area:{X:n,Y:0,WIDTH:i,HEIGHT:50},jobname_area:{X:0,Y:50,WIDTH:n,HEIGHT:o},result_area:{X:n,Y:50,WIDTH:i,HEIGHT:o}},id:{WHOLE_AREA:"etl_result_wholearea",DATETIME_AREA:"etl_result_datearea",DATETIME_AREA_RECT:"etl_result_datearea_rect",JOBNAME_AREA:"etl_result_jobname",JOBNAME_AREA_RECT:"etl_result_job_name_rect",RESULT_AREA:"etl_result_result",RESULT_AREA_RECT:"etl_result_result_rect",RESULT_AREA_FILTER:"etl_result_result_filter"},exec_status:{SUCCESS:0,RUNNING:1,ERROR:9},size:{DATETIME_HOUR_BAR_DISTANCE:100,DATETIME_HOUR_BAR_START:35,DATETIME_TEXT_PADDING_LEFT:5,DATETIME_YMD_POS_Y:18,DATETIME_HOUR_POS_Y:43}}},205:(t,e,r)=>{const s=r(345);t.exports={parse:function(t){return function(t){let e={results:[],scale:{min_dt:null,max_dt:null}};function*r(e){yield t.result(e);let s=t.children_ids_itr(e),a=s.next();for(;!a.done;)yield r(a.value),a=s.next()}let s=t.top_ids_iter(),a=s.next();for(;!a.done;){let t=r(a.value),n=t.next();for(;!n.done;)e.results.push(r(n.value)),n=t.next();a=s.next()}return e.scale.min_dt=t.min_dt,e.scale.max_dt=t.max_dt,e}(function(t){let e=new s.Results;for(let r=0;r<t.length;r++)e.add(t[r]);return e}(t))}}},345:(t,e,r)=>{const s=r(551);class a{constructor(t){if(this.id=t.id,this.parent_id=t.parent_id||null,this.title=t.title||null,this.start_dt_str=t.start,this.end_dt_str=t.end||null,this.status_str=t.status,this.depth=-1,this.children=[],void 0===this.id||void 0===this.start_dt_str||void 0===this.status_str)throw new Error("Mandatory item not entered.");if(!Object.keys(s.exec_status).includes(this.status_str))throw new Error("Invalid Status value.");this.status=s.exec_status[this.status_str],this.start_dt=new Date(this.start_dt_str),this.end_dt=this.end_dt_str?new Date(this.end_dt_str):null}add_child(t){this.children.push(t)}get children_num(){return this.children.length}to_object(){return{id:this.id,title:this.title,status_str:this.status_str,status:this.status,parent_id:this.parent_id,start_dt:this.start_dt,start_dt_str:this.start_dt_str,end_dt:this.end_dt,end_dt_str:this.end_dt_str,depth:this.depth,chidlren_num:this.children_num}}}t.exports.Results=class{constructor(){this.results=[],this.id_map={}}add(t){let e=new a(t);if(this.id_map[e.id]=this.results.length,this.results.push(e),e.parent_id){if(!Object.keys(this.id_map).includes(e.parent_id))throw new Error("Parent("+e.parent_id+") is not registered");let t=this.id_map[e.parent_id];this.results[t].add_child(e.id),this.depth=this.results[t].depth+1}else this.depth=0}result(t){return this.results[this.id_map[t]]}get min_dt(){let t=this.results[0].start_dt;for(let e=1;e<this.results.length;e++)this.results[e].start_dt<t&&(t=this.results[e].start_dt);return t}get max_dt(){let t=this.results[0].start_dt;for(let e=0;e<this.results.length;e++)t<this.results[e].start_dt&&(t=this.results[e].start_dt),this.results[e].end_dt&&t<this.results[e].end_dt&&(t=this.results[e].end_dt);return t}*top_ids_iter(){for(let t=0;t<this.results.length;t++)this.results[t].parent_id||(yield this.results[t].id)}*children_ids_itr(t){for(let e=0;e<this.results[this.id_map[t]].children.length;e++)yield this.results[this.id_map[t]].children[e]}}},491:(t,e,r)=>{const s=r(551);t.exports.draw_background=function(t){let e=t.append("svg").attr("id",s.id.WHOLE_AREA).attr("x",s.pos.whole_area.X).attr("y",s.pos.whole_area.Y).attr("width",s.pos.whole_area.WIDTH).attr("height",s.pos.whole_area.HEIGHT);svg_date=e.append("svg").attr("id",s.id.DATETIME_AREA).attr("x",s.pos.datetime_area.X).attr("y",s.pos.datetime_area.Y).attr("width",s.pos.datetime_area.WIDTH).attr("height",s.pos.datetime_area.HEIGHT),svg_date.append("rect").attr("id",s.id.DATETIME_AREA_RECT).attr("x",0).attr("y",0).attr("width",s.pos.datetime_area.WIDTH).attr("height",s.pos.datetime_area.HEIGHT),svg_jobname=e.append("svg").attr("id",s.id.JOBNAME_AREA).attr("x",s.pos.jobname_area.X).attr("y",s.pos.jobname_area.Y).attr("width",s.pos.jobname_area.WIDTH).attr("height",s.pos.jobname_area.HEIGHT),svg_jobname.append("rect").attr("id",s.id.JOBNAME_AREA_RECT).attr("x",0).attr("y",0).attr("width",s.pos.jobname_area.WIDTH).attr("height",s.pos.jobname_area.HEIGHT),svg_result=e.append("svg").attr("id",s.id.RESULT_AREA).attr("x",s.pos.result_area.X).attr("y",s.pos.result_area.Y).attr("width",s.pos.result_area.WIDTH).attr("height",s.pos.result_area.HEIGHT);let r=svg_result.append("filter").attr("id",s.id.RESULT_AREA_FILTER);return r.append("feOffset").attr("dx",0).attr("dy",0),r.append("feGaussianBlur").attr("stdDeviation",8).attr("result","offset-blur"),r.append("feComposite").attr("operator","out").attr("in","SourceGraphic").attr("in2","offset-blur"),svg_result.append("rect").attr("id",s.id.RESULT_AREA_RECT).attr("x",0).attr("y",0).attr("width",s.pos.result_area.WIDTH).attr("height",s.pos.result_area.HEIGHT).attr("filter","url(#"+s.id.RESULT_AREA_FILTER+")"),e}},103:(t,e,r)=>{const s=r(491),a=r(550);t.exports={draw_background:s.draw_background,draw_jobs:a.draw_jobs}},550:(t,e,r)=>{const s=r(551);t.exports.draw_jobs=function(t){!function(t,e){let r=new Date(e.scale.min_dt.getFullYear(),e.scale.min_dt.getMonth(),e.scale.min_dt.getDate(),e.scale.min_dt.getHours()),a=new Date(e.scale.max_dt.getFullYear(),e.scale.max_dt.getMonth(),e.scale.max_dt.getDate(),e.scale.max_dt.getHours()+1);for(let e=r,n=0;e<=a;e.setHours(e.getHours()+1),n++){let r=n*s.size.DATETIME_HOUR_BAR_DISTANCE;t.insert("line",":first-child").attr("x1",r).attr("x2",r).attr("y1",0==e.getHours()?0:s.size.DATETIME_HOUR_BAR_START).attr("y2",s.pos.datetime_area.HEIGHT).attr("class","datetime_bar"),0==e.getHours()&&t.append("text").text(e.getFullYear()+"/"+(e.getMonth()+1)+"/"+e.getDate()).attr("x",r+s.size.DATETIME_TEXT_PADDING_LEFT).attr("y",s.size.DATETIME_YMD_POS_Y).attr("class","datetime_text"),t.append("text").text(e.getHours()).attr("x",r+s.size.DATETIME_TEXT_PADDING_LEFT).attr("y",s.size.DATETIME_HOUR_POS_Y).attr("class","datetime_text")}}(d3.select("#"+s.id.DATETIME_AREA),t),d3.select("#"+s.id.JOBNAME_AREA),d3.select("#"+s.id.RESULT_AREA)}},138:(t,e,r)=>{r(732);const s=r(205),a=r(103),n=r(551);r(205),t.exports.etl_result_viewer=function(t,e){console.log({dom_id:t}),console.log({data:e});let r=s.parse(e);console.log({result_objs:r});const i=d3.select(t).append("svg").attr("width",n.pos.svg.WIDTH).attr("height",n.pos.svg.HEIGHT);a.draw_background(i),a.draw_jobs(r)}}},e={};function r(s){var a=e[s];if(void 0!==a)return a.exports;var n=e[s]={id:s,exports:{}};return t[s](n,n.exports,r),n.exports}return r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var s in e)r.o(e,s)&&!r.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.nc=void 0,r(138)})()));